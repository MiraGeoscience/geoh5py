[build-system]
build-backend = 'poetry.core.masonry.api'
requires = ['poetry-core>=1.0.0', 'setuptools']

[tool]
[tool.coverage]
[tool.coverage.html]
skip_covered = true
skip_empty = true

[tool.coverage.report]
exclude_lines = ['raise NotImplementedError', 'pass', 'if TYPE_CHECKING', 'pragma: no cover']
fail_under = 90

[tool.coverage.run]
branch = true
omit = ['geoh5py/handlers/*', 'geoh5py/interfaces/*']
source = ['geoh5py']

[tool.mypy]
check_untyped_defs = true
ignore_missing_imports = true
plugins = ['pydantic.mypy']
scripts_are_modules = true
show_column_numbers = true
show_error_context = true
warn_unused_configs = true

[tool.poetry]
authors = ['Mira Geoscience <support@mirageoscience.com>']
classifiers = ['Development Status :: 4 - Beta', 'Intended Audience :: Science/Research', 'Intended Audience :: Developers', 'Natural Language :: English', 'Topic :: Database', 'Topic :: Scientific/Engineering', 'Topic :: Scientific/Engineering :: Mathematics', 'Topic :: Scientific/Engineering :: Physics', 'Topic :: Software Development :: Libraries :: Python Modules']
description = 'Python API for geoh5, an open file format for geoscientific data'
documentation = 'https://mirageoscience-geoh5py.readthedocs-hosted.com/'
exclude = ['geoh5py/handlers/*', 'geoh5py/interfaces/*']
homepage = 'https://www.mirageoscience.com/mining-industry-software/python-integration/'
keywords = ['geology', 'geophysics', 'data', 'interoperability']
license = 'LGPL-3.0-or-later'
maintainers = ['Benjamin Kary <benjamink@mirageoscience.com>', 'Dominique Fournier <dominiquef@mirageoscience.com>', 'Matthieu Cedou <matthieuc@mirageoscience.com>']
name = 'geoh5py'
readme = 'package.rst'
repository = 'https://github.com/MiraGeoscience/geoh5py'
version = '0.10.0-alpha.1'

[tool.poetry.dependencies]
h5py = '^3.2.1'
numpy = '~1.26.0'
pillow = '~10.3.0'
pydantic = '^2.5.2'
python = '^3.10'

[tool.poetry.group]
[tool.poetry.group.dev]
[tool.poetry.group.dev.dependencies]
jinja2 = '*'
lockfile = '^0.12.2'
packaging = '*'
pygments = '*'
pylint = '*'
pytest = '*'
pytest-cov = '*'
pyyaml = '*'
scipy = '~1.14.0'
sphinx = '^3.0'
sphinx-autodoc-typehints = '^1.10'
sphinx-rtd-theme = '^0.4.3'
tomli = '*'

[[tool.poetry.include]]
format = ['sdist', 'wheel']
path = 'COPYING'

[[tool.poetry.include]]
format = ['sdist', 'wheel']
path = 'COPYING.LESSER'

[[tool.poetry.include]]
format = ['sdist', 'wheel']
path = 'LICENSE'

[[tool.poetry.include]]
format = ['sdist', 'wheel']
path = 'README.rst'

[[tool.poetry.include]]
format = ['sdist', 'wheel']
path = 'THIRD_PARTY_SOFTWARE.rst'

[[tool.poetry.include]]
format = ['sdist', 'wheel']
path = 'docs/**/THIRD_PARTY_SOFTWARE.rst'

[[tool.poetry.source]]
name = 'jfrog-server'
url = 'https://mirageoscienceltd.jfrog.io/artifactory/api/pypi/public-pypi-dev/simple'

[tool.ruff]
target-version = 'py310'

[tool.ruff.lint]
ignore = ['B028', 'E501', 'F401', 'TID252', 'RUF012', 'UP031', 'UP038', 'RUF001', 'RUF003', 'RUF005', 'RUF015', 'B008', 'B018', 'B024', 'B027', 'E721', 'C409']
select = ['A', 'B', 'B006', 'B9', 'BLE', 'C4', 'C9', 'E', 'F', 'I', 'RUF', 'TID', 'UP', 'W']

[tool.ruff.lint.isort]
lines-after-imports = 2

[tool.ruff.lint.mccabe]
max-complexity = 18
